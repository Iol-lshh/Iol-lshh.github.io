{"componentChunkName":"component---src-templates-blog-post-js","path":"/java/JPA/","result":{"data":{"site":{"siteMetadata":{"title":"Iol-lshh's","siteUrl":"https://iol-lshh.github.io"}},"markdownRemark":{"id":"09205999-d9ab-58cf-815a-1f93be3378ac","excerpt":"JDBC vs JPA Spring Data JPA의 작동 방식 JPA와 ORM에 대한 베스트 프렉티스 가이드 1. JDBC vs JPA Java에서 관계형 데이터베이스를 사용할 때, JDBC(Java Database Connectivity)와 JPA(Java Persistence API…","html":"<ol>\n<li>JDBC vs JPA</li>\n<li>Spring Data JPA의 작동 방식</li>\n<li>JPA와 ORM에 대한 베스트 프렉티스 가이드</li>\n</ol>\n<h2>1. JDBC vs JPA</h2>\n<ul>\n<li>Java에서 관계형 데이터베이스를 사용할 때, <strong>JDBC</strong>(Java Database Connectivity)와 <strong>JPA</strong>(Java Persistence API)는 두 가지 대표적인 접근 방식입니다. 두 방식 모두 데이터 영속화를 목적으로 하지만, 작동 방식에는 큰 차이가 있습니다.</li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 627px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ced8f0c3f49709aa6bae94ec9c74937e/f7fce/img_jpajdbc.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe9NYUCVSFD/xAAYEAADAQEAAAAAAAAAAAAAAAAAAUEQIP/aAAgBAQABBQLplWU//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFBABAAAAAAAAAAAAAAAAAAAAMP/aAAgBAQAGPwJP/8QAHBAAAgICAwAAAAAAAAAAAAAAADEBURBBESAh/9oACAEBAAE/IbPXDrGzawqOKQL0/wD/2gAMAwEAAgADAAAAEAAAMP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABsQAQACAwEBAAAAAAAAAAAAAAERIQAxQRBx/9oACAEBAAE/EFmlpycUCEx6wmLpyATG8AtvET4BEpvmbCqN9wBUT74b/PP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ced8f0c3f49709aa6bae94ec9c74937e/dc87c/img_jpajdbc.avif 158w,\n/static/ced8f0c3f49709aa6bae94ec9c74937e/383b4/img_jpajdbc.avif 315w,\n/static/ced8f0c3f49709aa6bae94ec9c74937e/4a470/img_jpajdbc.avif 627w\"\n              sizes=\"(max-width: 627px) 100vw, 627px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/ced8f0c3f49709aa6bae94ec9c74937e/5787a/img_jpajdbc.webp 158w,\n/static/ced8f0c3f49709aa6bae94ec9c74937e/89f54/img_jpajdbc.webp 315w,\n/static/ced8f0c3f49709aa6bae94ec9c74937e/badda/img_jpajdbc.webp 627w\"\n              sizes=\"(max-width: 627px) 100vw, 627px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ced8f0c3f49709aa6bae94ec9c74937e/ebfe4/img_jpajdbc.jpg 158w,\n/static/ced8f0c3f49709aa6bae94ec9c74937e/4fcc2/img_jpajdbc.jpg 315w,\n/static/ced8f0c3f49709aa6bae94ec9c74937e/f7fce/img_jpajdbc.jpg 627w\"\n            sizes=\"(max-width: 627px) 100vw, 627px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ced8f0c3f49709aa6bae94ec9c74937e/f7fce/img_jpajdbc.jpg\"\n            alt=\"jpa\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>jpa</p></figcaption>\n  </figure></p>\n<h2><strong>JDBC</strong> (Java Database Connectivity)</h2>\n<ul>\n<li><strong>정의</strong>: 관계형 데이터베이스와 직접 상호작용하기 위한 Java의 저수준 API.</li>\n<li><strong>특징</strong>:\n<ul>\n<li>데이터베이스 연결 및 SQL 작업을 위한 범용 클래스와 인터페이스를 제공.</li>\n<li>데이터베이스와의 통신을 위해 특정 데이터베이스에 맞는 JDBC 드라이버가 필요.</li>\n<li>개발자가 직접 SQL 쿼리를 작성하고, 데이터베이스 연결 및 결과 처리를 수동으로 관리해야 함.</li>\n<li>SQL 쿼리와 데이터베이스 작업을 완벽히 제어할 수 있지만, 코드가 장황하고 반복적일 가능성이 높음.</li>\n</ul>\n</li>\n<li><strong>사용 사례</strong>:\n<ul>\n<li>MySQL, PostgreSQL, Oracle 등에서 자체 JDBC 드라이버를 제공.</li>\n</ul>\n</li>\n</ul>\n<h2><strong>JPA</strong> (Java Persistence API)</h2>\n<ul>\n<li><strong>정의</strong>: ORM(Object-Relational Mapping)을 사용하여 데이터베이스와의 상호작용을 관리하는 고수준 API.</li>\n<li><strong>특징</strong>:\n<ul>\n<li>ORM을 위한 규칙, 인터페이스, 애너테이션을 정의하는 사양(Specification)으로, 런타임 구현체는 포함하지 않음.</li>\n<li>Java 객체와 데이터베이스 테이블을 매핑하여 대부분의 SQL 작성을 제거, 데이터베이스 작업을 단순화.</li>\n<li>보일러플레이트 코드를 줄이고, 개발 속도를 높이며, 유지보수를 용이하게 하지만 성능 상의 오버헤드가 있을 수 있음.</li>\n</ul>\n</li>\n<li><strong>대표 구현체</strong>:\n<ul>\n<li>Hibernate (가장 인기 있음)</li>\n<li>Apache OpenJPA</li>\n<li>EclipseLink</li>\n</ul>\n</li>\n</ul>\n<h2><strong>JPA와 JDBC의 관계</strong></h2>\n<ul>\n<li>JPA는 데이터베이스와 직접 상호작용할 수 없으며, 내부적으로 JDBC를 사용하여 데이터베이스와 통신함.</li>\n<li>즉, JPA는 JDBC 위에서 동작하며, JDBC는 JPA의 기반이 됨.</li>\n</ul>\n<hr>\n<h2>2. Spring Data JPA의 작동 방식</h2>\n<ul>\n<li>Spring Data JPA는 기본적인 CRUD 작업을 위한 구현을 제공하여 JPA 저장소 생성을 간소화하는 프레임워크입니다. 이는 Java Persistence API(JPA)를 기반으로 하며, 관계형 데이터베이스의 데이터 접근 계층 개발을 단순화합니다.</li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 330px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/de40d240cd19c7e161cd80940db7e379/2d03f/img_jpa.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 164.55696202531647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAhABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMEAgX/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAfW5jNL1EzcuNuKp0KppICwD/8QAHBABAAICAwEAAAAAAAAAAAAAAgADETEBECES/9oACAEBAAEFAn6se5lw+lWEUtuHa3KUlZ1xuf/EABgRAAIDAAAAAAAAAAAAAAAAAAEQEiAh/9oACAEDAQE/AZhZT//EABcRAAMBAAAAAAAAAAAAAAAAAAEQESD/2gAIAQIBAT8BpVx//8QAHRAAAQQCAwAAAAAAAAAAAAAAAQACEDEgIUFhcf/aAAgBAQAGPwK1cDxcTUvDhodY/wD/xAAdEAACAgMAAwAAAAAAAAAAAAAAAREhEDFBUWGB/9oACAEBAAE/IYI0lCoiV8I9HtVp0QmmlqbHj4IeOEIexcQhIVWJ4PTNeP/aAAwDAQACAAMAAAAQ/AhMAA//xAAaEQEBAAIDAAAAAAAAAAAAAAABERAhIHGx/9oACAEDAQE/EECbvRPcOwTh/8QAGBEAAgMAAAAAAAAAAAAAAAAAESEBECD/2gAIAQIBAT8QGgqhMf/EACEQAQACAgEDBQAAAAAAAAAAAAEAESExQRBhoZGxwfDx/9oACAEBAAE/EOIiVeNfscxxF7Vz8SnZHuQE3As0eZwmybH1YwkXIISu+Y7FBoUPftADkwR2IekOKBhLVb9iAGgJ4zPEen//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/de40d240cd19c7e161cd80940db7e379/dc87c/img_jpa.avif 158w,\n/static/de40d240cd19c7e161cd80940db7e379/383b4/img_jpa.avif 315w,\n/static/de40d240cd19c7e161cd80940db7e379/219d9/img_jpa.avif 330w\"\n              sizes=\"(max-width: 330px) 100vw, 330px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/de40d240cd19c7e161cd80940db7e379/5787a/img_jpa.webp 158w,\n/static/de40d240cd19c7e161cd80940db7e379/89f54/img_jpa.webp 315w,\n/static/de40d240cd19c7e161cd80940db7e379/13f93/img_jpa.webp 330w\"\n              sizes=\"(max-width: 330px) 100vw, 330px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/de40d240cd19c7e161cd80940db7e379/ebfe4/img_jpa.jpg 158w,\n/static/de40d240cd19c7e161cd80940db7e379/4fcc2/img_jpa.jpg 315w,\n/static/de40d240cd19c7e161cd80940db7e379/2d03f/img_jpa.jpg 330w\"\n            sizes=\"(max-width: 330px) 100vw, 330px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/de40d240cd19c7e161cd80940db7e379/2d03f/img_jpa.jpg\"\n            alt=\"jpa\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>jpa</p></figcaption>\n  </figure></p>\n<h2>1. 엔티티 매핑</h2>\n<ul>\n<li>엔티티 클래스를 정의하고 <code class=\"language-text\">@Entity</code>, <code class=\"language-text\">@Table</code>, <code class=\"language-text\">@Column</code> 등의 JPA 애너테이션을 사용해 매핑합니다.</li>\n<li>이러한 애너테이션은 엔티티 클래스를 데이터베이스의 테이블과 컬럼에 매핑합니다.</li>\n</ul>\n<h2>2. 리포지토리 인터페이스</h2>\n<ul>\n<li>각 엔티티에 대해 Spring Data JPA에서 제공하는 <code class=\"language-text\">JpaRepository</code> 인터페이스를 확장한 리포지토리 인터페이스를 생성합니다.</li>\n<li>리포지토리 인터페이스는 <code class=\"language-text\">save</code>, <code class=\"language-text\">delete</code>, <code class=\"language-text\">findById</code>, <code class=\"language-text\">findAll</code> 등의 공통 데이터베이스 작업 메서드를 정의합니다.</li>\n<li>이러한 메서드는 직접 구현하지 않아도 Spring이 기본적으로 제공하는 구현을 사용합니다.</li>\n</ul>\n<h2>3. 자동 생성된 구현</h2>\n<ul>\n<li>Spring Data JPA는 런타임 시 리포지토리 인터페이스의 구현체를 자동으로 생성합니다.</li>\n<li>공통 작업의 경우 <code class=\"language-text\">JpaRepository</code>에서 제공하는 기본 구현을 사용합니다.</li>\n</ul>\n<h2>4. 쿼리 메서드</h2>\n<ul>\n<li>기본 CRUD 메서드 외에도 리포지토리 인터페이스에서 사용자 정의 쿼리 메서드를 정의할 수 있습니다.</li>\n<li>Spring Data JPA는 메서드 이름 규칙에 따라 다양한 쿼리 생성 메서드를 지원합니다.</li>\n<li>이러한 메서드는 런타임에 자동으로 구현됩니다.</li>\n</ul>\n<h2>5. QueryDSL 및 Specifications</h2>\n<ul>\n<li>더 복잡한 쿼리가 필요한 경우 <strong>QueryDSL</strong> 또는 <strong>Specifications</strong>를 사용할 수 있습니다:\n<ul>\n<li><strong>QueryDSL</strong>: 플루언트 API를 사용하여 타입 안전한 쿼리를 작성할 수 있습니다.</li>\n<li><strong>Specifications</strong>: 재사용 가능한 쿼리 조건을 정의하는 방식을 제공합니다.</li>\n</ul>\n</li>\n</ul>\n<h2>6. 트랜잭션 관리</h2>\n<ul>\n<li>Spring Data JPA는 Spring의 트랜잭션 관리와 원활하게 통합됩니다.</li>\n<li><code class=\"language-text\">@Transactional</code> 애너테이션을 서비스 또는 리포지토리 메서드에 사용하여 작업이 트랜잭션 내에서 실행되도록 보장합니다.</li>\n</ul>\n<h2>7. 의존성 주입</h2>\n<ul>\n<li>리포지토리 인터페이스는 <code class=\"language-text\">@Autowired</code> 애너테이션을 사용하여 서비스나 컨트롤러 클래스에 주입할 수 있습니다.</li>\n<li>Spring Data JPA는 리포지토리 구현체의 인스턴스화를 처리하고 런타임에 이를 주입합니다.</li>\n</ul>\n<h2>요약</h2>\n<ul>\n<li>Spring Data JPA는 데이터 접근 계층 개발을 다음과 같은 방식으로 단순화합니다:\n<ol>\n<li>CRUD 작업에 대한 기본 구현 제공.</li>\n<li>런타임에 리포지토리 자동 생성.</li>\n<li>메서드 이름 규칙을 통한 쿼리 생성 단순화.</li>\n<li>Spring의 트랜잭션 관리와 통합.</li>\n<li>QueryDSL 및 Specifications과 같은 고급 쿼리 옵션 지원.</li>\n</ol>\n</li>\n</ul>\n<hr>\n<h2>3. JPA와 ORM에 대한 베스트 프렉티스 가이드</h2>\n<h2>JPA와 ORM 소개</h2>\n<ul>\n<li><strong>Java Persistence API (JPA)</strong> 는 Java 애플리케이션에서 객체-관계 매핑(ORM)을 위한 명세입니다.</li>\n<li><strong>ORM</strong>은 Java 객체를 관계형 데이터베이스 테이블에 매핑하여 데이터 접근과 조작을 단순화하는 기술입니다.</li>\n<li>JPA는 이러한 매핑을 표준화된 방식으로 제공하여 개발자가 데이터베이스 작업 대신 비즈니스 로직에 집중할 수 있도록 도와줍니다.</li>\n</ul>\n<hr>\n<h2>JPA의 핵심 개념</h2>\n<ol>\n<li><strong>엔티티 (Entities)</strong>\n<ul>\n<li><code class=\"language-text\">@Entity</code>로 어노테이션된 Java 클래스는 데이터베이스 테이블을 나타냅니다.</li>\n</ul>\n</li>\n<li><strong>엔티티 매니저 (Entity Manager)</strong>\n<ul>\n<li>엔티티의 생명 주기를 관리하고 CRUD 작업을 처리하는 클래스입니다.</li>\n</ul>\n</li>\n<li><strong>영속성 컨텍스트 (Persistence Context)</strong>\n<ul>\n<li>관리되는 엔티티 인스턴스의 집합을 유지하는 컨텍스트입니다.</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2>기본 엔티티 클래스</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Entity</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Id</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">GeneratedValue</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">GenerationType</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Column</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Lob</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">IDENTITY</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>length <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>length <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> email<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Lob</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> postContent<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">User</code>는 데이터베이스 테이블에 매핑된 엔티티로, <code class=\"language-text\">id</code>, <code class=\"language-text\">name</code>, <code class=\"language-text\">email</code>, <code class=\"language-text\">postContent</code> 필드에 해당하는 컬럼을 갖습니다.</li>\n</ul>\n<h3>JPA에서 문자열 데이터 관리</h3>\n<ul>\n<li>\n<p>문자열 데이터를 효과적으로 관리하는 것은 다양한 텍스트 정보를 처리하는 애플리케이션에서 매우 중요합니다. JPA는 엔티티에서 문자열 데이터를 매핑하고 관리하기 위한 다양한 방법을 제공합니다.</p>\n</li>\n<li>\n<p><strong><code class=\"language-text\">@Column</code> 애너테이션</strong></p>\n<ul>\n<li><code class=\"language-text\">@Column</code> 애너테이션은 문자열 필드에 대한 속성을 정의합니다:\n<ul>\n<li><strong><code class=\"language-text\">name</code></strong>\n<ul>\n<li>최대 길이: 100자\n<ul>\n<li><code class=\"language-text\">null</code> 값 허용 안 함: <code class=\"language-text\">nullable = false</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong><code class=\"language-text\">@Lob</code> 애너테이션</strong></p>\n<ul>\n<li>대량의 텍스트 콘텐츠(예: 5000자 분량의 블로그 포스트)를 저장할 경우\n<ul>\n<li>이는 필드(<code class=\"language-text\">postContent</code>)가 대용량 객체로 처리되어 광범위한 텍스트나 바이너리 데이터를 저장하기에 적합함을 나타냅니다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>인코딩과 로컬라이제이션</h3>\n<ul>\n<li>\n<p><strong>문자 인코딩</strong></p>\n<ul>\n<li>데이터베이스와 애플리케이션이 일관된 문자 인코딩(예: <strong>UTF-8</strong>)을 사용하도록 설정하세요.</li>\n<li>이를 통해 특수 문자와 다국어 텍스트가 올바르게 처리됩니다.</li>\n</ul>\n</li>\n<li>\n<p><strong>로컬라이제이션</strong></p>\n<ul>\n<li>번역 및 로케일별 데이터를 관리하기 위해 라이브러리나 프레임워크를 사용하세요.</li>\n<li>이를 통해 다양한 언어와 형식을 지원할 수 있습니다.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2>ORM 매핑 방법</h2>\n<ul>\n<li>객체-관계 매핑(ORM)은 Java 객체를 관계형 데이터베이스 테이블에 매핑하는 기술입니다. JPA는 엔터티 매핑과 관계 관리에 다양한 방법을 제공합니다.</li>\n</ul>\n<h3>기본 ORM 매핑</h3>\n<ul>\n<li><strong><code class=\"language-text\">@Entity</code> 애너테이션</strong>: 클래스를 JPA 엔터티로 표시하며, 데이터베이스의 테이블을 나타냅니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> email<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@Id</code></strong>: 엔터티의 기본 키를 정의합니다.</li>\n<li><strong><code class=\"language-text\">@Column</code></strong>: 필드를 데이터베이스 컬럼에 매핑합니다. 컬럼 속성(예: 길이, <code class=\"language-text\">nullable</code> 제약 조건)을 커스터마이징할 수 있습니다.</li>\n<li><strong><code class=\"language-text\">@Table</code></strong>: 엔터티의 테이블 이름과 스키마를 커스터마이징합니다.</li>\n</ul>\n<h3>관계 매핑</h3>\n<ul>\n<li>\n<p>JPA는 엔터티 간 관계를 정의하기 위한 애너테이션을 제공합니다</p>\n</li>\n<li>\n<p><strong><code class=\"language-text\">@OneToOne</code></strong>: 엔터티 간 1:1 관계를 정의합니다.</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@OneToOne</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Address</span> address<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@OneToMany</code></strong>: 엔터티 간 1:N 관계를 정의합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Author</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Book</span><span class=\"token punctuation\">></span></span> books<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@ManyToOne</code></strong>: 엔터티 간 N:1 관계를 정의합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Book</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Author</span> author<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@ManyToMany</code></strong>: 엔터티 간 N:M 관계를 정의합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToMany</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Course</span><span class=\"token punctuation\">></span></span> courses<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>고급 매핑 기법</h3>\n<ul>\n<li><strong><code class=\"language-text\">@MappedSuperclass</code></strong>: 하위 클래스에서 상속받을 수 있는 슈퍼클래스를 정의합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@MappedSuperclass</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BaseEntity</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Common fields and methods</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@Embeddable</code></strong>: 다른 엔터티에 포함될 수 있는 클래스를 정의합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Embeddable</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Address</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> street<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> city<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> zipCode<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@Embedded</code></strong>: 엔터티 내에 <code class=\"language-text\">@Embeddable</code> 클래스를 포함시킵니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Customer</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Embedded</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Address</span> address<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>ORM 매핑 커스터마이징</h3>\n<ul>\n<li><strong><code class=\"language-text\">@AttributeOverride</code></strong>: 포함된 클래스의 속성 매핑을 커스터마이징합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Embeddable</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Address</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"street_name\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> street<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"city_name\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> city<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"postal_code\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> zipCode<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@JoinColumn</code></strong>: 엔터티 관계를 연결하는 데 사용할 컬럼을 지정합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Order</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"customer_id\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Customer</span> customer<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">@JoinTable</code></strong>: N:M 관계에서 조인 테이블을 커스터마이징합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToMany</span>\n    <span class=\"token annotation punctuation\">@JoinTable</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"student_course\"</span><span class=\"token punctuation\">,</span>\n               joinColumns <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"student_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n               inverseJoinColumns <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"course_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Course</span><span class=\"token punctuation\">></span></span> courses<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2>기본 키 생성 전략</h2>\n<ul>\n<li>JPA의 <code class=\"language-text\">GenerationType</code> 열거형은 기본 키 생성을 관리하기 위한 여러 전략을 제공합니다:</li>\n</ul>\n<h3>1. <strong><code class=\"language-text\">AUTO</code></strong></h3>\n<ul>\n<li>JPA가 데이터베이스에 따라 전략(<code class=\"language-text\">SEQUENCE</code>, <code class=\"language-text\">IDENTITY</code>, <code class=\"language-text\">TABLE</code>)을 자동으로 선택합니다.</li>\n<li><strong>장점</strong>: 초보자에게 친숙하고 빠르게 구현할 수 있습니다.</li>\n<li><strong>단점</strong>: 일부 상황에서 고유하지 않은 기본 키가 생성될 수 있습니다.</li>\n<li><strong>사용 사례</strong>: 간단한 프로젝트나 프로토타입.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AUTO</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>2. <strong><code class=\"language-text\">IDENTITY</code></strong></h3>\n<ul>\n<li>기본 키 생성을 위해 데이터베이스의 <code class=\"language-text\">AUTO_INCREMENT</code>를 사용합니다.</li>\n<li><strong>장점</strong>: 간단하며 MySQL과 같은 데이터베이스에서 지원됩니다.</li>\n<li><strong>사용 사례</strong>: MySQL 또는 네이티브 자동 증가를 지원하는 데이터베이스를 사용할 때.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"> <span class=\"token annotation punctuation\">@Entity</span>\n <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token annotation punctuation\">@Id</span>\n     <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">IDENTITY</span><span class=\"token punctuation\">)</span>\n     <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span></code></pre></div>\n<h3>3. <strong><code class=\"language-text\">SEQUENCE</code></strong></h3>\n<ul>\n<li>데이터베이스 시퀀스를 사용해 고유한 기본 키를 생성하는 표준 방법으로 사용됩니다.</li>\n<li><strong>장점</strong>: 표준적이고 신뢰성이 높으며 많은 RDBMS에서 널리 사용됩니다.</li>\n<li><strong>단점</strong>: 데이터베이스에 시퀀스 객체를 정의해야 합니다.</li>\n<li><strong>사용 사례</strong>: 확장 가능한 애플리케이션에서 권장됩니다.</li>\n<li>아래 예시에서 generator 속성은 “my_seq”로 설정되어 있으며, @SequenceGenerator 애노테이션은 데이터베이스 내 “my_sequence”라는 시퀀스 객체를 이 기본 키 생성에 매핑하기 위해 사용되고 있습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"> <span class=\"token annotation punctuation\">@Id</span>\n <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SEQUENCE</span><span class=\"token punctuation\">,</span> generator <span class=\"token operator\">=</span> <span class=\"token string\">\"my_seq\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token annotation punctuation\">@SequenceGenerator</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"my_seq\"</span><span class=\"token punctuation\">,</span> sequenceName <span class=\"token operator\">=</span> <span class=\"token string\">\"my_sequence\"</span><span class=\"token punctuation\">,</span> allocationSize <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span></code></pre></div>\n<h3>4. <strong><code class=\"language-text\">TABLE</code></strong></h3>\n<ul>\n<li>기본 키를 관리하기 위해 데이터베이스 테이블을 사용합니다.</li>\n<li>Table 방식은 모든 데이터베이스에서 작동하지만, 다른 전략에 비해 성능이 낮은 편입니다.</li>\n<li><strong>장점</strong>: 모든 데이터베이스에서 작동합니다.</li>\n<li><strong>단점</strong>: 다른 전략에 비해 성능이 느립니다.</li>\n<li><strong>사용 사례</strong>: 데이터베이스 간 호환성이 우선일 때.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"> <span class=\"token annotation punctuation\">@Id</span>\n <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">TABLE</span><span class=\"token punctuation\">,</span> generator <span class=\"token operator\">=</span> <span class=\"token string\">\"my_table_gen\"</span><span class=\"token punctuation\">)</span>\n <span class=\"token annotation punctuation\">@TableGenerator</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"my_table_gen\"</span><span class=\"token punctuation\">,</span> table <span class=\"token operator\">=</span> <span class=\"token string\">\"my_table\"</span><span class=\"token punctuation\">,</span> pkColumnName <span class=\"token operator\">=</span> <span class=\"token string\">\"gen_name\"</span><span class=\"token punctuation\">,</span> valueColumnName <span class=\"token operator\">=</span> <span class=\"token string\">\"gen_value\"</span><span class=\"token punctuation\">,</span> pkColumnValue <span class=\"token operator\">=</span> <span class=\"token string\">\"id_gen\"</span><span class=\"token punctuation\">,</span> allocationSize <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h2>JPA의 트랜잭션 관리</h2>\n<ul>\n<li>트랜잭션은 데이터의 무결성과 일관성을 유지하는 데 필수적입니다. JPA는 트랜잭션을 프로그래밍 방식과 선언적 방식으로 관리할 수 있는 메커니즘을 제공합니다.</li>\n</ul>\n<h3>트랜잭션 유형</h3>\n<h4>선언적 트랜잭션 (Declarative Transactions)</h4>\n<ul>\n<li>트랜잭션의 <strong>시작, 커밋, 종료</strong>, 및 <strong>롤백</strong> 로직을 스프링 프레임워크가 자동으로 처리하는 방식입니다.</li>\n<li><code class=\"language-text\">@Transactional</code> 애노테이션은 Spring 애플리케이션에서 선언적으로 트랜잭션 경계를 정의하는 데 사용됩니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Service</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>transaction<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Transactional</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Transactional</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">placeOrder</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Order</span> order<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Business logic for placing an order</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>이 예제에서 placeOrder 메서드는 트랜잭션 컨텍스트 내에서 실행됩니다. 예외가 발생하면 트랜잭션은 자동으로 롤백됩니다.</li>\n</ul>\n<h4>프로그래밍 방식의 트랜잭션 (Programmatic Transactions)</h4>\n<ul>\n<li>개발자가 트랜잭션 관리 및 라이프사이클 로직을 명시적으로 작성하여 처리하는 방식입니다.</li>\n<li>트랜잭션에 대한 더 많은 제어가 필요한 경우, JPA의 EntityTransaction을 사용하여 프로그래밍 방식으로 트랜잭션을 관리할 수 있습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">EntityManager</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">EntityTransaction</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">EntityManager</span> entityManager<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">OrderService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EntityManager</span> entityManager<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>entityManager <span class=\"token operator\">=</span> entityManager<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">placeOrder</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Order</span> order<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">EntityTransaction</span> transaction <span class=\"token operator\">=</span> entityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getTransaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            transaction<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// Business logic for placing an order</span>\n            transaction<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            transaction<span class=\"token punctuation\">.</span><span class=\"token function\">rollback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">throw</span> e<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>프로그래밍 방식의 트랜잭션은 세부적인 제어가 가능하지만, 트랜잭션 경계와 예외 처리를 수동으로 관리해야 합니다.</li>\n</ul>\n<h3>트랜잭션 속성</h3>\n<ul>\n<li>Spring과 JPA는 트랜잭션 동작을 최적화할 수 있는 다양한 속성을 제공합니다:</li>\n<li>이러한 속성은 <strong>데이터 무결성</strong>, <strong>일관성</strong>, 및 애플리케이션 요구사항에 따른 <strong>성능 최적화</strong>를 보장하는 데 필수적입니다.</li>\n</ul>\n<h4>격리 수준 (Isolation Levels)</h4>\n<ul>\n<li>트랜잭션 간 <strong>격리 수준</strong>을 정의합니다.</li>\n<li>트랜잭션 간 상호작용을 제어하여 데이터 무결성을 보장합니다.\n<ul>\n<li><strong>READ_COMMITTED</strong></li>\n<li><strong>SERIALIZABLE</strong></li>\n</ul>\n</li>\n</ul>\n<h4>전파 유형 (Propagation Types)</h4>\n<ul>\n<li>트랜잭션이 애플리케이션 내에서 <strong>전파되는 방식</strong>을 정의합니다.</li>\n<li>트랜잭션 실행을 최적화하고, 트랜잭션 간 종속성을 효율적으로 관리합니다.\n<ul>\n<li><strong>REQUIRED</strong></li>\n<li><strong>REQUIRES_NEW</strong></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2>스프링과 JPA에서의 지연 로딩 (Lazy Loading)</h2>\n<h3>지연 로딩이란?</h3>\n<ul>\n<li>지연 로딩은 <strong>빈(bean)</strong> 또는 <strong>엔티티(entity)</strong> 의 초기화를 실제로 필요할 때까지 연기하는 방식입니다. 이는 다음과 같은 이점을 통해 애플리케이션 성능을 개선할 수 있습니다:\n<ul>\n<li><strong>불필요한 데이터베이스 접근 감소</strong></li>\n<li><strong>자원 사용 최적화</strong></li>\n</ul>\n</li>\n</ul>\n<h3>JPA에서의 지연 로딩</h3>\n<ul>\n<li>엔티티 간 연관 관계에서 주로 사용됩니다.</li>\n<li>관련 데이터를 명시적으로 필요로 할 때만 가져와 초기 로딩 시간을 최소화합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Entity</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Id</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">OneToMany</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FetchType</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Set</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Customer</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LAZY</span><span class=\"token punctuation\">,</span> mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"customer\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Order</span><span class=\"token punctuation\">></span></span> orders<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Getters and setters</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>이 예제에서 <code class=\"language-text\">orders</code> 컬렉션은 지연 로딩(lazy loading) 방식으로 로드됩니다. 이는 데이터베이스에서 처음 접근할 때만 데이터를 가져오는 것을 의미합니다.</li>\n</ul>\n<h3>지연 로딩 관리</h3>\n<ul>\n<li>지연 로딩은 성능을 최적화할 수 있지만, 몇 가지 과제를 동반합니다:\n<ol>\n<li>LazyInitializationException</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- 지연 로딩된 데이터를 접근하기 전에 세션이 닫히면 발생합니다.\n- 이를 방지하려면 세션이 열려 있도록 유지하거나 **페치 조인(fetch join)** 등의 기법을 사용해야 합니다.</code></pre></div>\n<ol start=\"2\">\n<li>N+1 Select 문제</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- 컬렉션 엔티티를 지연 로딩 방식으로 접근할 때 다수의 SQL 쿼리가 발생하는 문제입니다.\n- **페치 조인(fetch join)** 또는 **배치 페칭(batch fetching)**을 사용하여 이 문제를 완화할 수 있습니다.</code></pre></div>\n</li>\n</ul>\n<h3>대안 전략</h3>\n<ul>\n<li><strong>즉시 로딩 (Eager Loading)</strong>\n<ul>\n<li>연관된 엔티티를 초기 쿼리와 함께 즉시 가져오는 방식입니다.</li>\n<li><strong>주의</strong>: 과도하게 사용하면 성능 문제를 초래할 수 있습니다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">EAGER</span><span class=\"token punctuation\">,</span> mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"customer\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Order</span><span class=\"token punctuation\">></span></span> orders<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><strong>배치 페칭 (Batch Fetching)</strong>\n<ul>\n<li>단일 쿼리로 여러 엔티티를 가져와 데이터베이스 왕복 횟수를 줄이는 방식입니다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@BatchSize</span><span class=\"token punctuation\">(</span>size <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LAZY</span><span class=\"token punctuation\">,</span> mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"customer\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Order</span><span class=\"token punctuation\">></span></span> orders<span class=\"token punctuation\">;</span></code></pre></div>\n<h2>베스트프렉티스와 고려사항</h2>\n<h3>성능 최적화</h3>\n<ul>\n<li><strong>인덱스 사용</strong>: 자주 사용되는 쿼리의 컬럼에 데이터베이스 인덱스를 적용하여 성능을 향상시키세요.</li>\n<li><strong>페치 전략 최적화</strong>: 애플리케이션의 구체적인 요구 사항에 따라 즉시 로딩(eager loading)과 지연 로딩(lazy loading)을 선택하세요. 항상 필요한 것이 아닌 컬렉션에 대해 즉시 로딩을 피하세요.</li>\n<li><strong>SQL 쿼리 모니터링</strong>: JPA가 생성한 SQL 쿼리를 모니터링하기 위해 로깅 및 프로파일링 도구를 사용하세요. 쿼리를 최적화하여 오버헤드를 줄이고 응답 시간을 개선하세요.</li>\n</ul>\n<h3>트랜잭션 효과적으로 관리하기</h3>\n<ul>\n<li><strong>트랜잭션 경계 명확히 정의</strong>: 트랜잭션 경계를 명확히 정의하여 부분 업데이트 및 불일치 상태를 방지하세요.</li>\n<li><strong>예외를 우아하게 처리</strong>: 예외가 발생했을 때 데이터를 일관되게 유지하기 위해 예외를 적절히 처리하고 트랜잭션을 롤백하세요.</li>\n<li><strong>적절한 격리 수준 사용</strong>: 애플리케이션의 일관성과 동시성 요구 사항에 맞는 격리 수준을 선택하세요.</li>\n</ul>\n<h3>효율적인 데이터 액세스</h3>\n<ul>\n<li><strong>배치 처리</strong>: 대량의 데이터를 효율적으로 처리하기 위해 배치 처리 기술을 사용하세요. 데이터베이스 상호작용 횟수를 줄이고 성능을 향상시킬 수 있습니다.</li>\n<li><strong>캐싱</strong>: 데이터베이스 쿼리 수를 줄이고 응답 시간을 단축하기 위해 캐싱 전략을 구현하세요. Ehcache나 Redis와 같은 2차 캐시 제공자를 사용하세요.</li>\n</ul>\n<h2>Advanced Topics</h2>\n<h3>Customizing Queries</h3>\n<ul>\n<li>JPA는 JPQL(Java Persistence Query Language)과 Criteria API를 사용한 고급 쿼리 작성을 지원합니다.</li>\n</ul>\n<h4>JPQL</h4>\n<ul>\n<li>JPA 엔티티에 대해 사용할 수 있는 강력한 쿼리 언어로, SQL과 유사하지만 엔티티와 그 속성에 대해 작동합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT u FROM User u WHERE u.email = :email\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token class-name\">User</span> <span class=\"token function\">findByEmail</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">String</span> email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4>Criteria API</h4>\n<ul>\n<li>쿼리를 프로그래밍 방식으로 생성할 수 있는 타입 안전한 방법입니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token class-name\">CriteriaBuilder</span> cb <span class=\"token operator\">=</span> entityManager<span class=\"token punctuation\">.</span><span class=\"token function\">getCriteriaBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">CriteriaQuery</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> query <span class=\"token operator\">=</span> cb<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Root</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> user <span class=\"token operator\">=</span> query<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  query<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>cb<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">TypedQuery</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> typedQuery <span class=\"token operator\">=</span> entityManager<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">User</span> result <span class=\"token operator\">=</span> typedQuery<span class=\"token punctuation\">.</span><span class=\"token function\">getSingleResult</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Database Schema Management</h3>\n<ul>\n<li>애플리케이션 개발에서 데이터베이스 스키마를 효율적으로 관리하는 것은 매우 중요합니다.</li>\n</ul>\n<h4>스키마 생성</h4>\n<ul>\n<li>JPA properties를 사용하여 스키마 생성을 제어할 수 있습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">  spring.jpa.hibernate.ddl-auto</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">update</span></code></pre></div>\n<h3>Handling Large Datasets</h3>\n<ul>\n<li>대규모 데이터 세트를 처리할 때는 다음과 같은 전략을 고려하세요.</li>\n</ul>\n<h4>페이징</h4>\n<ul>\n<li>데이터를 청크 단위로 가져오기 위해 페이징을 사용하세요. 이를 통해 메모리 사용량을 줄이고 성능을 향상시킬 수 있습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT u FROM User u\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findUsers</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Pageable</span> pageable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4>스트리밍</h4>\n<ul>\n<li>매우 큰 결과 세트를 처리할 때는 스트리밍을 사용하여 모든 데이터를 메모리에 로드하지 않고 처리하세요.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT u FROM User u\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token class-name\">Stream</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">streamAllUsers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","images":null,"frontmatter":{"title":"JPA","date":"January 13, 2025","description":"JPA 정리","category":["java"],"featuredImage":null}},"previous":{"fields":{"slug":"/pattern/clean_test_suite/"},"frontmatter":{"title":"clean test suite","category":["pattern"]}},"next":{"fields":{"slug":"/java/GraalVM_vs_JVM/"},"frontmatter":{"title":"GraalVM, JVM 비교","category":["java"]}}},"pageContext":{"id":"09205999-d9ab-58cf-815a-1f93be3378ac","previousPostId":"76ec3748-c1b9-5418-8392-6b9d69de4b58","nextPostId":"207578eb-1b65-5d80-add5-ffcc96ceace9"}},"staticQueryHashes":["1408108323","3764592887","62622001"],"slicesMap":{}}